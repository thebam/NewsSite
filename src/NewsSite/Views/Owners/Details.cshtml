@model NewsSite.Models.Owner

@{
    ViewData["Title"] = "Details";
}
<style>
    .mediakitFileWrapper {
        height:500px;
        width: 30%;
        float: left;
        margin-top: 1%;
        margin-left: 1%;
        border:solid 1px #ccc;
        padding:15px;
    }

    .mediakitFileWrapper img {
        max-height:200px;
        margin:0 auto;
    }

    .mediakitFileWrapper p {
       margin-top: 10px;
    }
</style>
<h2>@Html.DisplayFor(model => model.Name)</h2>

<div>
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.Address)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.Address)
        </dd>
        
        <dt>
            @Html.DisplayNameFor(model => model.Email)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.Email)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.Phone)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.Phone)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.SocialMedia)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.SocialMedia)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.Website)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.Website)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.DateCreated)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.DateCreated)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.Enabled)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.Enabled)
        </dd>
    </dl>
</div>
<div>
    <a asp-action="Edit" asp-route-id="@Model.OwnerId">Edit</a> |
    <a asp-action="Index">Back to List</a>
</div>
<hr/>
<h3>Media Kit Files</h3>
<div class="clearfix"  >
    <button type="button" class="btn btn-success" data-toggle="modal" data-target="#fileModal" style="margin-bottom:15px;">
        Upload New File
    </button>
    <div class="clearfix" id="mediaKitFiles">
        @foreach (var mediaKitFile in ViewBag.mediaKitFiles)
        {
            <div class="mediakitFileWrapper">
                @Html.Raw(mediaKitFile.IconURL)
                <p>
                    <a class="btn btn-sm btn-success" href="~/mediakitfiles/@mediaKitFile.URL" target="_blank">download</a>
                    <a class="btn btn-sm btn-info" href="~/MediaKitFiles/Edit/@mediaKitFile.MediaKitFileId">edit file</a>
                    <a class="btn btn-sm btn-danger" href="~/MediaKitFiles/Delete/@mediaKitFile.MediaKitFileId">delete file</a>
                    <br/>
                    @mediaKitFile.Description<br />
                    &copy; @mediaKitFile.CopyrightDate.ToString("yyyy")
                    <hr />
                    <strong>tags</strong><br/>
                    @foreach (var tag in mediaKitFile.TagNames)
                    {
                        <div class="btn btn-sm btn-default">@tag.Name</div>
                    }
                </p>
            </div>
        }
        </div>
    </div>


<div class="modal fade" tabindex="-1" role="dialog" id="fileModal">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Media Kit Files</h4>
            </div>
            <div class="modal-body">
                <form method="post" enctype="multipart/form-data">
                    <h3>Upload New File</h3>
                    <div class="form-horizontal">
                        <div class="form-group">
                            <label class="col-md-2 control-label">File</label>
                            <div class="col-md-10">
                                <input type="file" id="files" multiple class="form-control" onchange="checkFile();" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-2 control-label">Filename</label>
                            <div class="col-md-10">
                                <input type="text" id="url" class="form-control" onchange="formatFileName('url');" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-2 control-label">Alt Text</label>
                            <div class="col-md-10">
                                <textarea id="altText" class="form-control"></textarea>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-2 control-label">Caption</label>
                            <div class="col-md-10">
                                <textarea id="Description" class="form-control"></textarea>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-2 control-label">File Type</label>
                            <div class="col-md-10">
                                <select id="MediaType" class="form-control">
                                    <option value="image">Image</option>
                                    <option value="word">Word Document</option>
                                    <option value="pdf">PDF</option>
                                    <option value="spreadsheet">Spreadsheet</option>
                                    <option value="ppt">Presentation</option>
                                </select>
                            </div>
                        </div>
                        
                        <input type="hidden" id="OwnerId" name="OwnerId" value="@Model.OwnerId" />
                        <div class="form-group">
                            <label class="col-md-2 control-label">Copyright Date</label>
                            <div class="col-md-10">
                                <input class="form-control" type="date" id="copyrightDate" name="copyrightDate" value="">
                            </div>
                        </div>
                        


                        <div class="form-group">
                            <label class="col-md-2 control-label">Tags</label>
                            <div class="col-md-10">
                                <input type="hidden" id="FileTags" class="form-control" value="," />

                                <div id="SelectedFileTags" class="tagContainer">
                                    <h5>SELECTED TAGS</h5> <em>click on available tags below to add</em><br />
                                </div>
                                <div class="availabletags" style="border:solid 1px #ccc;padding:15px;border-radius:5px;margin-top:15px;">
                                    <h5>AVAILABLE TAGS</h5>
                                    <div id="UnselectedFileTags">
                                        @foreach (var tag in ViewBag.tags)
                                        {
                                            <div class="btn btn-sm btn-default file-tag-btn" data-tag="@tag.TagId">@tag.TagName</div>
                                        }
                                    </div>
                                    <div class="input-group" style="margin-top:15px;">
                                        <input type="text" id="newFileTag" class="form-control" placeholder="Add New Tag" />
                                        <div class="input-group-btn">
                                            <div id="btnAddFileTag" class="btn btn-default">Add</div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-offset-2 col-md-10">
                                <input type="button" id="upload" value="Upload File" class="btn btn-success" />
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<script src="~/lib/jquery/dist/jquery.js"></script>
<script src="~/js/tags.js"></script>
